(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{203:function(e,t,c){},240:function(e,t,c){c(241),c(251),c(272),c(273),c(276),c(277);var n=c(81);t.greenpassDecode=function(e){n.post("http://localhost:6000",{data:e}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},254:function(e,t){},256:function(e,t){},286:function(e,t,c){},288:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(94),r=c.n(a),i=(c(203),c(107)),o=c(22),j=c(27),l=c.n(j),d=c(108),b=c(66),u=c(7),O=c(302),h=c(309),x=c(300),p=c(303),f=c(319),g=c(321),m=c(312),v=c(313),y=c(318),C=c(310),S=c(316),k=c(97),w=c(311),_=c(308),z=c(59),F=c(81),M=c.n(F),N=c(74),A=c.n(N),D=c(89),U=c.p+"static/media/short_notification.ecfc40b5.mp3",T=c.p+"static/media/right.274cbc55.svg",E=c.p+"static/media/wrong.a118e9c6.svg",V=c(93),Y=c(120);Y.a.initializeApp({apiKey:"AIzaSyCm6d6uLKvgkSl-3-2aKrpOSZjscsf-by8",authDomain:"monitoring-app-ad983.firebaseapp.com",projectId:"monitoring-app-ad983",storageBucket:"monitoring-app-ad983.appspot.com",messagingSenderId:"315767041890",appId:"1:315767041890:web:29979f563519944530c63b"}),Y.a.analytics();var G=Y.a,K=c(315),B=c.p+"static/media/logo.c2fda636.png",I=c(179),J=c(6),P=function(e){var t=e.setisNewNotification,c=e.getNotifications,n=e.setCloseModel,a=e.setCloseSettingModel,r=e.isNewNotification,i=Object(o.f)();return Object(J.jsx)(s.a.Fragment,{children:Object(J.jsxs)(x.a,{p:"5",children:[Object(J.jsx)(O.a,{p:"2",children:Object(J.jsx)("img",{onClick:function(){return i.push("/")},src:B,width:"150",height:"150"})}),Object(J.jsx)(p.a,{}),Object(J.jsx)(O.a,{children:Object(J.jsxs)(f.a,{children:[Object(J.jsxs)(K.a,{className:"popover__",children:[Object(J.jsx)(K.g,{children:Object(J.jsx)(O.b,{size:"40px",color:"white",style:{backgroundColor:"#B2F5EA",cursor:"pointer"},children:r?Object(J.jsxs)("div",{class:"icon",children:[Object(J.jsx)(z.b,{size:"30px",onClick:function(){return t(!1)},style:{color:"black"}}),Object(J.jsx)("div",{class:"txt"})]}):Object(J.jsx)(z.b,{style:{color:"black"},size:"30px"})})}),Object(J.jsxs)(K.e,{children:[Object(J.jsx)(K.f,{fontWeight:"semibold",children:"Notifications"}),Object(J.jsx)(K.b,{}),Object(J.jsx)(K.d,{}),Object(J.jsx)(K.c,{children:c()})]})]}),Object(J.jsx)(O.b,{size:"40px",color:"white",style:{backgroundColor:"#B2F5EA",cursor:"pointer"},onClick:function(){return n(!0)},children:Object(J.jsx)(z.a,{size:"30px",style:{color:"black"}})}),Object(J.jsx)(O.b,{size:"40px",onClick:function(){return a(!0)},color:"white",style:{backgroundColor:"#B2F5EA",cursor:"pointer"},children:Object(J.jsx)(z.c,{size:"30px",style:{color:"black"}})}),Object(J.jsx)(O.b,{size:"40px",onClick:function(){return i.push("./QrCodeReader")},color:"white",style:{backgroundColor:"#B2F5EA",cursor:"pointer"},children:Object(J.jsx)(I.a,{size:"30px",style:{color:"black"}})})]})})]})})},R=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),i=Object(u.a)(r,2),j=i[0],F=i[1],M=Object(n.useState)(""),N=Object(u.a)(M,2),Y=N[0],K=N[1],B=Object(n.useState)(""),I=Object(u.a)(B,2),R=I[0],L=I[1],H=Object(n.useState)("Greenpass"),Q=Object(u.a)(H,2),Z=Q[0],$=Q[1],q=Object(n.useState)(),W=Object(u.a)(q,2),X=W[0],ee=W[1],te=Object(n.useState)(),ce=Object(u.a)(te,2),ne=ce[0],se=ce[1],ae=Object(n.useState)(!1),re=Object(u.a)(ae,2),ie=(re[0],re[1]),oe=Object(n.useState)(!1),je=Object(u.a)(oe,2),le=je[0],de=(je[1],Object(n.useState)(!1)),be=Object(u.a)(de,2),ue=be[0],Oe=be[1],he=Object(n.useState)(-1),xe=Object(u.a)(he,2),pe=(xe[0],xe[1],A()().format("hh:mm:ss A")),fe=A()().format("dddd, Do MMMM YYYY"),ge=Object(n.useState)([]),me=Object(u.a)(ge,2),ve=me[0],ye=me[1],Ce=Object(n.useState)([]),Se=Object(u.a)(Ce,2),ke=Se[0],we=(Se[1],Object(D.a)(U,{interrupt:!0})),_e=Object(u.a)(we,1)[0],ze=Object(n.useState)(0),Fe=Object(u.a)(ze,2),Me=Fe[0],Ne=(Fe[1],Object(n.useState)(!1)),Ae=Object(u.a)(Ne,2),De=Ae[0],Ue=Ae[1];Object(o.f)();function Te(){return(Te=Object(b.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={datefrom:new Date(X).getTime(),dateto:new Date(ne).getTime()},console.log(t),G.database().ref("Users").once("value").then((function(e){var c=e.val();for(var n in c)console.log(c[n].server_timestamp),c[n].server_timestamp>t.datefrom&&c[n].server_timestamp<t.dateto&&(delete c[n],console.log(c))}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(){return(Ee=Object(b.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G.database().ref("Users").remove();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ve=function(){a(!1)},Ye=function(){F(!1)};function Ge(){return(Ge=Object(b.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=G.database().ref("Users");try{c={username:Y,codice_fiscale:R,user_type:Z,isValid:le,hour:pe,date:fe,server_timestamp:{".sv":"timestamp"}},t.push(c),G.database().ref("pushnotificaion").child("-MgqgiJGrRkJNgvviupP").update({play:!0}),a(!1),Oe(!0),console.log("firsttime in saveUser",De),ie(!0),Ue(!0),console.log("firsttime in saveUser",De),K(""),L("")}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){G.database().ref("Users").on("value",(function(e){var t=e.val(),c=[];for(var n in t)c.push(Object(d.a)({id:n},t[n]));ye(c),De&&(_e(),Oe(!0))}))}),[De]);return Object(J.jsxs)(s.a.Fragment,{children:[Object(J.jsx)(P,{setisNewNotification:Oe,getNotifications:function(){return ke.length>0?ke.map((function(e,t){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(O.a,{py:"2",px:"1",children:[Object(J.jsx)(h.a,{style:{fontSize:"13px"},children:e.message}),Object(J.jsxs)(x.a,{children:[Object(J.jsx)(O.a,{style:{fontSize:"10px"},children:e.hour}),Object(J.jsx)(p.a,{}),Object(J.jsx)(O.a,{style:{fontSize:"10px"},children:e.date})]})]}),Object(J.jsx)(C.a,{})]})})):Object(J.jsx)("h1",{children:"No notifications found"})},setCloseModel:a,setCloseSettingModel:F,isNewNotification:ue}),Object(J.jsx)(O.a,{className:"boxTable",children:Object(J.jsxs)(_.a,{variant:"striped",colorScheme:"teal",style:{textAlign:"center"},children:[Object(J.jsxs)(_.b,{children:["Page ",Me+1]}),Object(J.jsx)(_.f,{children:Object(J.jsxs)(_.g,{style:{textAlign:"center"},children:[Object(J.jsx)(_.e,{children:"Username"}),Object(J.jsx)(_.e,{children:"Codice Fiscale"}),Object(J.jsx)(_.e,{children:"Type"}),Object(J.jsx)(_.e,{children:"Validity"}),Object(J.jsx)(_.e,{children:"Validity"}),Object(J.jsx)(_.e,{children:"Validity"}),Object(J.jsx)(_.e,{children:"Hour"}),Object(J.jsx)(_.e,{children:"Date"})]})}),Object(J.jsx)(_.c,{style:{textAlign:"center",fontSize:"14px"},children:ve.length>0?ve.map((function(e,t){return Object(J.jsxs)(_.g,{children:[Object(J.jsx)(_.d,{children:e.username}),Object(J.jsx)(_.d,{children:e.codice_fiscale}),Object(J.jsx)(_.d,{children:e.user_type}),Object(J.jsx)(_.d,{children:e.isValid?Object(J.jsx)("span",{children:Object(J.jsx)("img",{src:T,width:"20px",height:"20px",style:{margin:"auto"}})}):Object(J.jsx)("span",{children:Object(J.jsx)("img",{src:E,width:"20px",height:"20px",style:{margin:"auto"}})})}),Object(J.jsx)(_.d,{children:e.isValid?Object(J.jsx)("span",{children:Object(J.jsx)("img",{src:T,width:"20px",height:"20px",style:{margin:"auto"}})}):Object(J.jsx)("span",{children:Object(J.jsx)("img",{src:E,width:"20px",height:"20px",style:{margin:"auto"}})})}),Object(J.jsx)(_.d,{children:e.isValid?Object(J.jsx)("span",{children:Object(J.jsx)("img",{src:T,width:"20px",height:"20px",style:{margin:"auto"}})}):Object(J.jsx)("span",{children:Object(J.jsx)("img",{src:E,width:"20px",height:"20px",style:{margin:"auto"}})})}),Object(J.jsx)(_.d,{children:e.hour}),Object(J.jsx)(_.d,{children:e.date})]},t)})):Object(J.jsx)(_.g,{style:{textAlign:"center"},children:"No data found"})})]})}),Object(J.jsxs)(S.a,{isOpen:c,onClose:Ve,size:"md",children:[Object(J.jsx)(S.g,{}),Object(J.jsxs)(S.d,{children:[Object(J.jsx)(S.f,{children:Object(J.jsxs)(f.a,{children:[Object(J.jsx)(V.a,{}),Object(J.jsx)(h.a,{children:"Add User"})]})}),Object(J.jsx)(S.c,{onClick:function(){return Ve()}}),Object(J.jsx)(S.b,{children:Object(J.jsx)("form",{children:Object(J.jsxs)(g.a,{columns:1,spacing:10,children:[Object(J.jsxs)(k.a,{id:"username",children:[Object(J.jsx)(w.a,{children:"Username"}),Object(J.jsx)(m.a,{type:"text",value:Y,onChange:function(e){return K(e.target.value)}})]}),Object(J.jsxs)(k.a,{id:"fiscale",children:[Object(J.jsx)(w.a,{children:"Codice Fiscale"}),Object(J.jsx)(m.a,{type:"text",value:R,onChange:function(e){return L(e.target.value)}})]}),Object(J.jsxs)(k.a,{id:"type",children:[Object(J.jsx)(w.a,{children:"Select type"}),Object(J.jsxs)(v.a,{placeholder:"Select type",value:Z,onChange:function(e){return $(e.target.value)},children:[Object(J.jsx)("option",{value:"Greenpass",children:"Greenpass"}),Object(J.jsx)("option",{value:"Tampone",children:"Tampone"})]})]}),Object(J.jsx)(y.a,{bg:"green.500",_focus:{backgroundColor:"green.500"},_hover:{backgroundColor:"green.500"},onClick:function(){return function(){return Ge.apply(this,arguments)}()},children:"Save"})]})})}),Object(J.jsx)(S.e,{})]})]}),Object(J.jsxs)(S.a,{isOpen:j,onClose:Ye,size:"md",children:[Object(J.jsx)(S.g,{}),Object(J.jsxs)(S.d,{children:[Object(J.jsx)(S.f,{children:Object(J.jsxs)(f.a,{children:[Object(J.jsx)(z.c,{}),Object(J.jsx)(h.a,{children:"Settings"})]})}),Object(J.jsx)(S.c,{onClick:function(){return Ye()},_focus:{boxShadow:"none"}}),Object(J.jsx)(S.b,{children:Object(J.jsxs)("form",{children:[Object(J.jsxs)(g.a,{columns:2,spacing:10,children:[Object(J.jsxs)(k.a,{id:"",children:[Object(J.jsx)(w.a,{children:"Enter Date From"}),Object(J.jsx)(m.a,{type:"date",value:X,onChange:function(e){return ee(e.target.value)}})]}),Object(J.jsxs)(k.a,{id:"",children:[Object(J.jsx)(w.a,{children:"Enter Date To"}),Object(J.jsx)(m.a,{type:"date",value:ne,onChange:function(e){return se(e.target.value)}})]})]}),Object(J.jsxs)(O.a,{textAlign:"center",children:[Object(J.jsx)(y.a,{bg:"red.500",_focus:{backgroundColor:"red.500"},_hover:{backgroundColor:"red.500"},onClick:function(){return function(){return Te.apply(this,arguments)}()},mt:5,mr:2,width:"135px",children:"Delete data"}),Object(J.jsx)(y.a,{bg:"red.500",_focus:{backgroundColor:"red.500"},_hover:{backgroundColor:"red.500"},onClick:function(){return function(){return Ee.apply(this,arguments)}()},mt:5,children:"Delete all data"})]})]})}),Object(J.jsx)(S.e,{})]})]})]})},L=c(181),H=c.n(L),Q=(c(240),function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),r=Object(u.a)(a,2),i=r[0],o=r[1],j=Object(n.useState)(""),_=Object(u.a)(j,2),F=_[0],N=_[1],T=Object(n.useState)(""),E=Object(u.a)(T,2),Y=E[0],K=E[1],B=Object(n.useState)("Greenpass"),I=Object(u.a)(B,2),R=I[0],L=I[1],Q=Object(n.useState)(),Z=Object(u.a)(Q,2),$=Z[0],q=Z[1],W=Object(n.useState)(),X=Object(u.a)(W,2),ee=X[0],te=X[1],ce=Object(n.useState)(!1),ne=Object(u.a)(ce,2),se=(ne[0],ne[1]),ae=Object(n.useState)(!1),re=Object(u.a)(ae,2),ie=re[0],oe=(re[1],Object(n.useState)(!1)),je=Object(u.a)(oe,2),le=je[0],de=je[1],be=A()().format("hh:mm:ss A"),ue=A()().format("dddd, Do MMMM YYYY"),Oe=Object(n.useState)([]),he=Object(u.a)(Oe,2),xe=(he[0],he[1]),pe=Object(n.useState)([]),fe=Object(u.a)(pe,2),ge=fe[0],me=(fe[1],Object(D.a)(U,{interrupt:!0})),ve=Object(u.a)(me,1)[0],ye=Object(n.useState)(!1),Ce=Object(u.a)(ye,2),Se=Ce[0],ke=Ce[1],we=Object(n.useState)("HC1: 6BFOXM% TS3DHPVO13J /G-/2YKVA.R/K86PP2FC1J9M$DI9C3 [....] CS62GMVR + B1YM K5MJ1K: K: 2JZLT6KM + DTVKPDUG $ E7F06FA3O6I-VA126Y0"),_e=Object(u.a)(we,2),ze=_e[0],Fe=_e[1],Me=function(){s(!1)},Ne=function(){o(!1)};function Ae(){return(Ae=Object(b.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=G.database().ref("Users");try{c={username:F,codice_fiscale:Y,user_type:R,isValid:ie,hour:be,date:ue,server_timestamp:{".sv":"timestamp"}},t.push(c),s(!1),de(!0),console.log("firsttime in saveUser",Se),se(!0),ke(!0),console.log("firsttime in saveUser",Se),N(""),K("")}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(){return(De=Object(b.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={datefrom:$,dateto:ee},e.next=3,M()({method:"delete",url:"/api/users/deletedata",data:t});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(){return(Ue=Object(b.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G.database().ref("Users").remove().then((function(){console.log("Remove succeeded.")})).catch((function(e){console.log("Remove failed: "+e.message)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){G.database().ref("Users").on("value",(function(e){var t=e.val(),c=[];for(var n in t)c.push(Object(d.a)({id:n},t[n]));xe(c),Se&&(ve(),de(!0))}))}),[Se]),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(P,{setisNewNotification:de,getNotifications:function(){return ge.length>0?ge.map((function(e,t){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(O.a,{py:"2",px:"1",children:[Object(J.jsx)(h.a,{style:{fontSize:"13px"},children:e.message}),Object(J.jsxs)(x.a,{children:[Object(J.jsx)(O.a,{style:{fontSize:"10px"},children:e.hour}),Object(J.jsx)(p.a,{}),Object(J.jsx)(O.a,{style:{fontSize:"10px"},children:e.date})]})]}),Object(J.jsx)(C.a,{})]})})):Object(J.jsx)("h1",{children:"No notifications found"})},setCloseModel:s,setCloseSettingModel:o,isNewNotification:le}),Object(J.jsxs)("div",{children:[Object(J.jsx)(H.a,{delay:300,onError:function(e){console.error(e)},onScan:function(e){e&&Fe(e)},style:{width:"100%"}}),Object(J.jsx)("p",{children:ze})]}),Object(J.jsx)(y.a,{onClick:function(){return console.log("asd"),void M.a.post("http://localhost:6000/decode",{data:ze,headers:{"Content-Type":"application/json; charset=UTF=8","Accept-Encoding":"zlib"}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},children:"click"}),Object(J.jsxs)(S.a,{isOpen:c,onClose:Me,size:"md",children:[Object(J.jsx)(S.g,{}),Object(J.jsxs)(S.d,{children:[Object(J.jsx)(S.f,{children:Object(J.jsxs)(f.a,{children:[Object(J.jsx)(V.a,{}),Object(J.jsx)(h.a,{children:"Add User"})]})}),Object(J.jsx)(S.c,{onClick:function(){return Me()}}),Object(J.jsx)(S.b,{children:Object(J.jsx)("form",{children:Object(J.jsxs)(g.a,{columns:1,spacing:10,children:[Object(J.jsxs)(k.a,{id:"username",children:[Object(J.jsx)(w.a,{children:"Username"}),Object(J.jsx)(m.a,{type:"text",value:F,onChange:function(e){return N(e.target.value)}})]}),Object(J.jsxs)(k.a,{id:"fiscale",children:[Object(J.jsx)(w.a,{children:"Codice Fiscale"}),Object(J.jsx)(m.a,{type:"text",value:Y,onChange:function(e){return K(e.target.value)}})]}),Object(J.jsxs)(k.a,{id:"type",children:[Object(J.jsx)(w.a,{children:"Select type"}),Object(J.jsxs)(v.a,{placeholder:"Select type",value:R,onChange:function(e){return L(e.target.value)},children:[Object(J.jsx)("option",{value:"Greenpass",children:"Greenpass"}),Object(J.jsx)("option",{value:"Tampone",children:"Tampone"})]})]}),Object(J.jsx)(y.a,{bg:"green.500",_focus:{backgroundColor:"green.500"},_hover:{backgroundColor:"green.500"},onClick:function(){return function(){return Ae.apply(this,arguments)}()},children:"Save"})]})})}),Object(J.jsx)(S.e,{})]})]}),Object(J.jsxs)(S.a,{isOpen:i,onClose:Ne,size:"md",children:[Object(J.jsx)(S.g,{}),Object(J.jsxs)(S.d,{children:[Object(J.jsx)(S.f,{children:Object(J.jsxs)(f.a,{children:[Object(J.jsx)(z.c,{}),Object(J.jsx)(h.a,{children:"Settings"})]})}),Object(J.jsx)(S.c,{onClick:function(){return Ne()},_focus:{boxShadow:"none"}}),Object(J.jsx)(S.b,{children:Object(J.jsxs)("form",{children:[Object(J.jsxs)(g.a,{columns:2,spacing:10,children:[Object(J.jsxs)(k.a,{id:"",children:[Object(J.jsx)(w.a,{children:"Enter Date From"}),Object(J.jsx)(m.a,{type:"date",value:$,onChange:function(e){return q(e.target.value)}})]}),Object(J.jsxs)(k.a,{id:"",children:[Object(J.jsx)(w.a,{children:"Enter Date To"}),Object(J.jsx)(m.a,{type:"date",value:ee,onChange:function(e){return te(e.target.value)}})]})]}),Object(J.jsxs)(O.a,{textAlign:"center",children:[Object(J.jsx)(y.a,{bg:"red.500",_focus:{backgroundColor:"red.500"},_hover:{backgroundColor:"red.500"},onClick:function(){return function(){return De.apply(this,arguments)}()},mt:5,mr:2,width:"135px",children:"Delete data"}),Object(J.jsx)(y.a,{bg:"red.500",_focus:{backgroundColor:"red.500"},_hover:{backgroundColor:"red.500"},onClick:function(){return function(){return Ue.apply(this,arguments)}()},mt:5,children:"Delete all data"})]})]})}),Object(J.jsx)(S.e,{})]})]})]})});c(286);var Z=function(){return Object(J.jsx)(i.a,{children:Object(J.jsxs)(o.c,{children:[Object(J.jsx)(o.a,{exact:!0,path:"/",component:R}),Object(J.jsx)(o.a,{exact:!0,path:"/QrCodeReader",component:Q})]})})},$=function(e){e&&e instanceof Function&&c.e(4).then(c.bind(null,322)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))},q=c(317);r.a.render(Object(J.jsx)(s.a.StrictMode,{children:Object(J.jsx)(q.a,{children:Object(J.jsx)(Z,{})})}),document.getElementById("root")),$()}},[[288,1,2]]]);
//# sourceMappingURL=main.10687c00.chunk.js.map